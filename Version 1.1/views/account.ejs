<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>DIGITAL TAVERN</title>
    <link rel="icon" href="/img/favicon.png" type="image/png" />
    <link rel="stylesheet" href="/style/background.css" />
    <link rel="stylesheet" href="/style/footer.css" />
    <link rel="stylesheet" href="/style/Account/account.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <div class="app-introduction">
          <h1>Account</h1>
          <p class="pixel-type">
            Welcome back
            <span style="color: #c44d58"><%= locals.username %></span>! Here you
            can manage your account settings, view your posts, and more.
          </p>
        </div>

        <hr class="app-hr" />

        <nav class="app-navigation" aria-label="Main navigation">
          <a href="/"><p>HOME</p></a>
          <a href="/quest"><p>QUEST</p></a>
          <a href="/guild"><p>GUILD</p></a>
          <a href="/blog"><p>BLOG</p></a>
          <a href="/about"><p>ABOUT</p></a>
          <% if (locals.loggedIn) { %>
          <a href="/account"
            ><p id="login-nav-btn"><%= locals.username %></p></a
          >
          <% } else { %>
          <a href="/login"><p id="login-nav-btn">LOGIN</p></a>
          <% } %>
        </nav>
      </header>

      <main>
        <div class="account-container">
          <div class="account-info">
            <h2>Active Quest</h2>
            <% if (activeQuest) { %>
            <p><strong>Title:</strong> <%= activeQuest.title %></p>
            <p><strong>Summary:</strong> <%= activeQuest.summary %></p>
            <p><strong>Category:</strong> <%= activeQuest.category %></p>
            <p><strong>Difficulty:</strong> <%= activeQuest.difficulty %></p>
            <p><strong>Duration:</strong> <%= activeQuest.duration %></p>
            <% } else { %>
            <p>You currently have no active quests.</p>
            <% } %>
          </div>

          <div class="account-info">
            <h2>Completed Quests</h2>
            <% if (completedQuests.length > 0) { %>
            <ul>
              <% completedQuests.forEach(q => { %>
              <li>
                <strong><%= q.title %></strong> - <%= q.category %>, <%=
                q.difficulty %>
              </li>
              <% }) %>
            </ul>
            <% } else { %>
            <p>No quests completed yet.</p>
            <% } %>
          </div>
          <div class="account-actions">
            <h2>Actions</h2>
            <ul>
              <li><a href="/account/edit">Account Settings</a></li>
              <li><a href="/account/posts">View My Posts</a></li>
              <li><a href="/logout">Logout</a></li>
            </ul>
          </div>
        </div>
      </main>

      <%-include('partials/footer.ejs')%>
    </div>
  </body>
</html>
